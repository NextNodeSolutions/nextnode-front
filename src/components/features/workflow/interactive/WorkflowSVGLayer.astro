---
import WorkflowGradients from '../visual/WorkflowGradients.astro'
import WorkflowPath from '../visual/WorkflowPath.astro'
import {
	VIEWBOX_WIDTH,
	VIEWBOX_HEIGHT,
	type WorkflowVariant,
} from './workflow-positioning'

import type { GradientStop } from '@/types/workflow'

export interface Props {
	variant?: WorkflowVariant
	gradientStops: GradientStop[]
}

const { gradientStops } = Astro.props
---

<!-- SVG Background with path and gradients -->
<div class="workflow-svg-container">
	<svg
		viewBox={`0 0 ${VIEWBOX_WIDTH} ${VIEWBOX_HEIGHT}`}
		class="absolute inset-0 h-full w-full"
		preserveAspectRatio="xMidYMid meet"
		role="presentation"
		aria-hidden="true"
	>
		<!-- Gradient definitions -->
		<WorkflowGradients gradientStops={gradientStops} />

		<!-- Workflow path -->
		<WorkflowPath />
	</svg>
</div>

<style>
	.workflow-svg-container {
		position: absolute;
		inset: 0;
		pointer-events: none;
		z-index: 1;
	}
</style>
