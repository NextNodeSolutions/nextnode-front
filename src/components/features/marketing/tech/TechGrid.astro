---
import { cn } from '@/lib/core/utils'

const { t } = Astro.locals

const categories = {
	frontend: {
		title: t('home.techStack.categories.frontend.title'),
		items: t('home.techStack.categories.frontend.items'),
	},
	backend: {
		title: t('home.techStack.categories.backend.title'),
		items: t('home.techStack.categories.backend.items'),
	},
	deployment: {
		title: t('home.techStack.categories.deployment.title'),
		items: t('home.techStack.categories.deployment.items'),
	},
}
---

<section
	class={cn(
		'relative overflow-hidden py-24 sm:py-32',
		'bg-gradient-to-br from-gray-50/80 via-white/80 to-gray-50/80',
		'dark:from-brand-black/90 dark:via-brand-charcoal/80 dark:to-brand-black/90',
	)}
>
	<!-- Grid Pattern Background -->
	<div class="absolute inset-0 opacity-[0.03] dark:opacity-[0.05]">
		<div
			class="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"
		>
		</div>
	</div>

	<!-- Subtle decorative elements -->
	<div
		class="bg-brand-green-soft/20 dark:bg-brand-green-soft/30 absolute top-20 right-10 h-72 w-72 animate-pulse rounded-full opacity-50 blur-3xl"
	>
	</div>
	<div
		class="animation-delay-1000 bg-brand-blue-soft/20 dark:bg-brand-blue-soft/30 absolute bottom-20 left-10 h-72 w-72 animate-pulse rounded-full opacity-50 blur-3xl"
	>
	</div>

	<div class="relative mx-auto max-w-7xl px-6 sm:px-8 lg:px-12">
		<!-- Section Header -->
		<div class="mb-20 space-y-4 text-center">
			<h2
				class={cn(
					'animate-fade-in-up text-3xl font-bold tracking-tight opacity-0 sm:text-4xl lg:text-5xl',
					'text-gray-900 dark:text-white',
				)}
			>
				{t('home.techStack.title')}
			</h2>
			<p
				class="animation-delay-300 animate-fade-in-up mx-auto max-w-3xl text-lg text-gray-600 opacity-0 sm:text-xl dark:text-gray-400"
			>
				{t('home.techStack.subtitle')}
			</p>
		</div>

		<!-- Tech Categories -->
		<div class="grid grid-cols-1 gap-8 lg:grid-cols-3 lg:gap-10">
			{
				Object.entries(categories).map(([_key, category]) => (
					<div
						class={cn(
							'group relative rounded-2xl p-8',
							'dark:bg-brand-charcoal bg-white',
							'dark:border-brand-soft-black border border-gray-200',
							'hover:border-brand-green dark:hover:border-brand-green',
							'transition-all duration-300',
							'hover:shadow-brand-green/10 hover:shadow-xl',
						)}
					>
						{/* Category Title */}
						<div class="mb-6">
							<h3
								class={cn(
									'text-2xl font-semibold',
									'text-gray-900 dark:text-white',
									'group-hover:text-brand-green dark:group-hover:text-brand-green',
									'transition-colors duration-300',
								)}
							>
								{category.title}
							</h3>
						</div>

						{/* Tech Items */}
						<div class="space-y-3">
							{category.items.map((item: string) => (
								<div
									class={cn(
										'flex items-center gap-3 rounded-lg p-3',
										'dark:bg-brand-soft-black bg-gray-50',
										'dark:hover:bg-brand-black hover:bg-gray-100',
										'transition-colors duration-200',
									)}
								>
									<div
										class={cn(
											'h-2 w-2 rounded-full',
											'from-brand-blue to-brand-green bg-gradient-to-r',
										)}
									/>
									<span class="font-medium text-gray-700 dark:text-gray-300">
										{item}
									</span>
								</div>
							))}
						</div>

						{/* Glow Effect */}
						<div
							class={cn(
								'absolute inset-0 rounded-2xl opacity-0',
								'from-brand-green/10 to-brand-blue/10 bg-gradient-to-br',
								'blur-xl transition-opacity duration-500 group-hover:opacity-100',
							)}
						/>
					</div>
				))
			}
		</div>
	</div>
</section>

<style>
	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(30px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fade-in-up {
		animation: fadeInUp 0.8s ease-out forwards;
	}

	.animation-delay-300 {
		animation-delay: 300ms;
	}

	.animation-delay-1000 {
		animation-delay: 1s;
	}
</style>
