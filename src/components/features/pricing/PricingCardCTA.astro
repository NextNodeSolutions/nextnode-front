---
import { cva } from 'class-variance-authority'
import { cn } from '@/lib/core/utils'
import { Button } from '@/components/ui/forms/Button'
import type { Plan } from '@/types/plans'

export interface Props {
	plan: Plan
	ctaText: string
}

const { plan, ctaText } = Astro.props

const ctaButtonVariants = cva(
	[
		'block w-full rounded-lg px-6 py-3 text-center font-semibold text-white',
		'shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl',
		'focus:ring-2 focus:ring-offset-2 focus:outline-none',
		'dark:focus:ring-offset-gray-800',
		'bg-gradient-to-r',
	],
	{
		variants: {
			plan: {
				starter: [
					'from-brand-blue to-brand-blue-dark',
					'hover:from-brand-blue-dark hover:to-brand-blue',
					'focus:ring-brand-blue',
				],
				business: [
					'from-brand-green to-brand-green-dark',
					'hover:from-brand-green-dark hover:to-brand-green',
					'focus:ring-brand-green',
				],
				enterprise: [
					'from-brand-blue-dark to-brand-green-dark',
					'hover:from-brand-blue hover:to-brand-green',
					'focus:ring-brand-blue-dark',
				],
			},
		},
	},
)
---

<div class="mt-auto">
	<Button variant="default" className={cn(ctaButtonVariants({ plan }))}>
		{ctaText}
	</Button>
</div>
