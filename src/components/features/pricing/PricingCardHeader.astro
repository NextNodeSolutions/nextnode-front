---
import { cva } from 'class-variance-authority'
import { cn } from '@/lib/core/utils'
import type { Plan } from '@/types/plans'

export interface Props {
	plan: Plan
	name: string
	tagline: string
	price: string
	recurring: string
	description: string
}

const { plan, name, tagline, price, recurring, description } = Astro.props

const priceVariants = cva(
	[
		'text-3xl sm:text-4xl font-bold mb-1 sm:mb-2',
		'bg-gradient-to-r bg-clip-text text-transparent',
	],
	{
		variants: {
			plan: {
				starter: 'from-brand-blue to-brand-blue-dark',
				business: 'from-brand-green to-brand-green-dark',
				enterprise: 'from-brand-blue-dark to-brand-green-dark',
			},
		},
	},
)
---

<div class="mb-6 text-center sm:mb-8">
	<h3
		class="mb-2 text-xl font-bold text-gray-900 sm:text-2xl dark:text-white"
	>
		{name}
	</h3>
	<p
		class="mb-3 text-sm text-gray-600 sm:mb-4 sm:text-base dark:text-gray-400"
	>
		{tagline}
	</p>

	<!-- Pricing -->
	<div class="mb-3 sm:mb-4">
		<div
			class={cn(priceVariants({ plan }), 'opacity-0 animation-delay-200')}
			data-animate="animate-number-emphasis"
		>
			{price}
		</div>
		<div
			class="animation-delay-400 text-xs text-gray-600 opacity-0 sm:text-sm dark:text-gray-400"
			data-animate="animate-fade-in"
		>
			+ {recurring}
		</div>
	</div>

	<p
		class="text-sm leading-relaxed text-gray-700 sm:text-base dark:text-gray-300"
	>
		{description}
	</p>
</div>
