---
import { cn } from '@/lib/utils'
import Navigation from './navigation.astro'
import Controls from './controls.astro'
import Logo from './logo.astro'
import MobileButton from './mobile-button.astro'

interface Props {
	links: { href: string; label: string }[]
}

const { links } = Astro.props
---

<div
	class="invisible fixed inset-0 z-50 bg-black/20 opacity-0 backdrop-blur-sm transition-all duration-300 md:hidden"
	id="mobile-menu"
>
	<div
		class="absolute inset-y-0 left-0 w-full max-w-sm -translate-x-full transform bg-white shadow-xl transition-transform duration-300 ease-out"
		id="mobile-menu-panel"
	>
		<div class="flex h-full flex-col">
			<div class="border-b border-gray-200">
				<div class="px-4 sm:px-6 lg:px-8">
					<div class="flex h-12 items-center justify-between">
						<Logo variant="mobile" />
						<MobileButton action="close" />
					</div>
				</div>
			</div>

			<Navigation links={links} variant="mobile" />

			<div class="mt-auto px-4 py-4 sm:px-6 lg:px-8">
				<Controls variant="mobile" />
			</div>
		</div>
	</div>
</div>
