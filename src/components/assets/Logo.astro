---
import type { HTMLAttributes } from 'astro/types'

/**
 * Available logo sizes
 */
export type LogoSize = 'sm' | 'md' | 'lg'

/**
 * Logo color variants
 * - light: White gradient for dark backgrounds
 * - dark: Teal gradient for light backgrounds
 */
export type LogoVariant = 'light' | 'dark'

/**
 * Props for the Logo component
 */
export interface Props extends Omit<HTMLAttributes<'svg'>, 'class'> {
	/** Size of the logo */
	size?: LogoSize
	/** Color variant for light/dark backgrounds */
	variant?: LogoVariant
	/** Additional CSS classes */
	class?: string
}

const { size = 'md', variant = 'dark', class: className, ...rest } = Astro.props

const sizeClasses: Record<LogoSize, string> = {
	sm: 'h-6',
	md: 'h-8',
	lg: 'h-12',
}

// Unique ID for gradient to avoid conflicts when multiple logos on page
const gradientId = `logo-grad-${Math.random().toString(36).slice(2, 9)}`

// Gradient colors based on variant
const gradientStops =
	variant === 'light'
		? { start: '#FFFFFF', mid: '#E2E8F0', end: '#CBD5E1' }
		: { start: '#5EEAD4', mid: '#14B8A6', end: '#0D9488' }
---

<svg
	xmlns="http://www.w3.org/2000/svg"
	viewBox="0 0 320 100"
	fill="none"
	class:list={['logo', sizeClasses[size], 'w-auto', className]}
	{...rest}
>
	<defs>
		<linearGradient
			id={gradientId}
			x1="0"
			y1="50"
			x2="320"
			y2="50"
			gradientUnits="userSpaceOnUse"
		>
			<stop offset="0%" stop-color={gradientStops.start}></stop>
			<stop offset="50%" stop-color={gradientStops.mid}></stop>
			<stop offset="100%" stop-color={gradientStops.end}></stop>
		</linearGradient>
	</defs>
	<!-- NN Icon -->
	<g transform="translate(0, 5) scale(0.42)">
		<path
			d="M119.934 137.786C119.934 139.336 119.629 140.774 119.021 142.103C118.467 143.431 117.692 144.593 116.696 145.589C115.756 146.53 114.621 147.277 113.293 147.83C111.965 148.383 110.554 148.66 109.06 148.66C107.731 148.66 106.376 148.411 104.992 147.913C103.664 147.415 102.474 146.613 101.423 145.506L22.5654 63.1621V147H0.9834V37.1807C0.9834 34.9671 1.5921 32.9749 2.8096 31.2041C4.0824 29.3779 5.6872 28.0221 7.624 27.1367C9.6715 26.3066 11.7744 26.113 13.9326 26.5557C16.0908 26.943 17.9447 27.9391 19.4941 29.5439L98.352 111.805V27.9668H119.934V137.786Z M215.934 121.786C215.934 123.336 215.629 124.774 215.021 126.103C214.467 127.431 213.692 128.593 212.696 129.589C211.756 130.53 210.621 131.277 209.293 131.83C207.965 132.383 206.554 132.66 205.06 132.66C203.731 132.66 202.376 132.411 200.992 131.913C199.664 131.415 198.474 130.613 197.423 129.506L118.565 47.1621V131H96.983V21.1807C96.983 18.9671 97.592 16.9749 98.81 15.2041C100.082 13.3779 101.687 12.0221 103.624 11.1367C105.672 10.3066 107.774 10.113 109.933 10.5557C112.091 10.943 113.945 11.9391 115.494 13.5439L194.352 95.805V11.9668H215.934V121.786Z"
			fill={`url(#${gradientId})`}></path>
	</g>
	<!-- NextNode text -->
	<text
		x="110"
		y="58"
		font-family="Plus Jakarta Sans, Arial, sans-serif"
		font-size="36"
		font-weight="700"
		fill={`url(#${gradientId})`}
		dominant-baseline="middle">NextNode</text
	>
</svg>
