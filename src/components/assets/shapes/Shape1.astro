---
import type { HTMLAttributes } from 'astro/types'

/**
 * Props for Shape1 component
 * Animated triangles with rotating and pulsing circles
 */
export interface Props extends Omit<HTMLAttributes<'div'>, 'class'> {
	/** Additional CSS classes */
	class?: string
}

const { class: className = '', ...rest } = Astro.props
---

<div class:list={['shape-1', className]} {...rest}>
	<svg
		class="scale-150"
		viewBox="0 0 400 400"
		xmlns="http://www.w3.org/2000/svg"
	>
		<!-- Rotating triangles -->
		<g class="triangles-container">
			<polygon
				class="triangle"
				points="200,150 250,250 150,250"
				stroke="currentColor"
				fill="none"
				stroke-width="0.2"
				style="--triangle-opacity: 0.6; --stroke-color: var(--color-base-200, #fafafa);"
			></polygon>
			<polygon
				class="triangle"
				points="200,150 250,250 150,250"
				stroke="currentColor"
				fill="none"
				stroke-width="0.2"
				style="--triangle-opacity: 0.6; --stroke-color: var(--color-base-600, #444444);"
			></polygon>
			<polygon
				class="triangle"
				points="200,150 250,250 150,250"
				stroke="currentColor"
				fill="none"
				stroke-width="0.2"
				style="--triangle-opacity: 0.6; --stroke-color: var(--color-base-500, #777777);"
			></polygon>
		</g>
		<!-- Pulsing circles -->
		<g class="circles">
			<circle
				cx="200"
				cy="200"
				r="50"
				stroke="currentColor"
				fill="none"
				class="circle"
				style="--stroke-color: var(--color-base-200, #fafafa);"
			></circle>
			<circle
				cx="200"
				cy="200"
				r="75"
				stroke="currentColor"
				fill="none"
				class="circle"
				style="--stroke-color: var(--color-base-600, #444444);"
			></circle>
			<circle
				cx="200"
				cy="200"
				r="100"
				stroke="currentColor"
				fill="none"
				class="circle"
				style="--stroke-color: var(--color-base-500, #777777);"
			></circle>
		</g>
	</svg>
</div>

<style>
	.shape-1 svg {
		color: var(--color-base-400, #888888);
	}

	/* Rotating triangle animation */
	.triangle {
		transform-origin: 200px 200px;
		animation: shape1-rotate 20s linear infinite;
		opacity: 0.6;
		stroke: var(--stroke-color);
	}

	.triangle:nth-child(2) {
		animation-delay: -2.6s;
	}

	.triangle:nth-child(3) {
		animation-delay: -5.3s;
	}

	/* Pulsing circle animation */
	.circle {
		stroke-width: 0.5;
		animation: shape1-pulse 18s ease-in-out infinite;
		opacity: 0.6;
		stroke: var(--stroke-color);
	}

	.circle:nth-child(2) {
		animation-delay: -1.3s;
	}

	.circle:nth-child(3) {
		animation-delay: -2.6s;
	}

	@keyframes shape1-rotate {
		from {
			transform: rotate(0deg);
		}
		to {
			transform: rotate(360deg);
		}
	}

	@keyframes shape1-pulse {
		0%,
		100% {
			transform: scale(0.8);
			opacity: 0.3;
		}
		50% {
			transform: scale(1.1);
			opacity: 0.8;
		}
	}
</style>
