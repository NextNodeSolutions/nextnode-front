---
import type { HTMLAttributes } from 'astro/types'

/**
 * Props for Shape2 component
 * Animated stars with rotating and pulsing diamonds
 */
export interface Props extends Omit<HTMLAttributes<'div'>, 'class'> {
	/** Additional CSS classes */
	class?: string
}

const { class: className = '', ...rest } = Astro.props
---

<div class:list={['shape-2', className]} {...rest}>
	<svg
		class="scale-170"
		viewBox="0 0 400 400"
		xmlns="http://www.w3.org/2000/svg"
	>
		<!-- Rotating stars -->
		<g class="stars-container">
			<path
				class="star"
				d="M200,150 L213,187 L250,187 L220,210 L235,250 L200,225 L165,250 L180,210 L150,187 L187,187 Z"
				stroke="currentColor"
				fill="none"
				stroke-width="0.5"
				style="--stroke-color: var(--color-base-200, #fafafa);"></path>
			<path
				class="star"
				d="M200,150 L213,187 L250,187 L220,210 L235,250 L200,225 L165,250 L180,210 L150,187 L187,187 Z"
				stroke="currentColor"
				fill="none"
				stroke-width="0.5"
				style="--stroke-color: var(--color-base-600, #444444);"></path>
			<path
				class="star"
				d="M200,150 L213,187 L250,187 L220,210 L235,250 L200,225 L165,250 L180,210 L150,187 L187,187 Z"
				stroke="currentColor"
				fill="none"
				stroke-width="0.5"
				style="--stroke-color: var(--color-base-500, #777777);"></path>
		</g>
		<!-- Pulsing diamonds -->
		<g class="diamonds">
			<rect
				class="diamond"
				x="175"
				y="175"
				width="50"
				height="50"
				stroke="currentColor"
				fill="none"
				stroke-width="0.5"
				style="--stroke-color: var(--color-base-200, #fafafa);"></rect>
			<rect
				class="diamond"
				x="162.5"
				y="162.5"
				width="75"
				height="75"
				stroke="currentColor"
				fill="none"
				stroke-width="0.5"
				style="--stroke-color: var(--color-base-600, #444444);"></rect>
			<rect
				class="diamond"
				x="150"
				y="150"
				width="100"
				height="100"
				stroke="currentColor"
				fill="none"
				stroke-width="0.5"
				style="--stroke-color: var(--color-base-500, #777777);"></rect>
		</g>
	</svg>
</div>

<style>
	.shape-2 svg {
		color: var(--color-base-400, #888888);
	}

	/* Rotating star animation */
	.star {
		transform-origin: 200px 200px;
		animation: shape2-rotate 20s linear infinite;
		opacity: 0.6;
		stroke: var(--stroke-color);
	}

	.star:nth-child(2) {
		animation-delay: -3.3s;
	}

	.star:nth-child(3) {
		animation-delay: -6.6s;
	}

	/* Pulsing diamond animation */
	.diamond {
		stroke-width: 0.5;
		animation: shape2-pulse 25s ease-in-out infinite;
		opacity: 0.6;
		stroke: var(--stroke-color);
	}

	.diamond:nth-child(2) {
		animation-delay: -1.6s;
	}

	.diamond:nth-child(3) {
		animation-delay: -3.3s;
	}

	@keyframes shape2-rotate {
		from {
			transform: rotate(0deg);
		}
		to {
			transform: rotate(360deg);
		}
	}

	@keyframes shape2-pulse {
		0%,
		100% {
			transform: scale(0.8) rotate(45deg);
			opacity: 0.3;
		}
		50% {
			transform: scale(1.1) rotate(45deg);
			opacity: 0.8;
		}
	}
</style>
