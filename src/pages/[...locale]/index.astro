---
// Welcome to Astro! Everything between these triple-dash code fences
// is your "component frontmatter". It never runs in the browser.
console.log('This runs in your terminal, not the browser!')

import Welcome from '@/components/marketing/welcome.astro'
import BaseLayout from '@/layouts/BaseLayout.astro'
import GradientCircle from '@/components/common/gradient-circle.astro'
import Header from '@/components/layout/header.astro'
import Footer from '@/components/layout/footer.astro'
import { cn } from '@/lib/utils'
import { initI18n } from '@/lib/i18n-server'

// Get language from route parameter
// For [...locale], the parameter can be undefined (for root path) or an array
const localeParam = Astro.params.locale
const locale = Array.isArray(localeParam) ? localeParam[0] : localeParam || 'en'
await initI18n(Astro.request, locale)
---

<BaseLayout title="Nextnode - Creative Agency">
	<div class="relative flex min-h-screen flex-col">
		<Header />
		<main class={cn('flex flex-col flex-1 justify-center')}>
			<Welcome />
		</main>

		<GradientCircle />
		<Footer />
	</div>
</BaseLayout>
