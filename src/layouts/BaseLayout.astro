---
/**
 * BaseLayout.astro - Base layout for all pages
 *
 * Provides consistent page structure with Navigation, Footer, and BaseHead.
 * Includes AOS (Animate On Scroll) scripts for animations.
 * Integrates @nextnode/logger for page load tracking.
 */

import '../styles/global.css'
import BaseHead from '@/components/fundations/head/BaseHead.astro'
import AosHead from '@/components/fundations/scripts/AosHead.astro'
import AosBody from '@/components/fundations/scripts/AosBody.astro'
import Navigation from '@/components/global/Navigation.astro'
import Footer from '@/components/global/Footer.astro'
import GuidelinesGrid from '@/components/assets/GuidelinesGrid.astro'
import { logger } from '@nextnode/logger'
import type { NavLink } from '@/components/global/Navigation.astro'
import type {
	FooterSection,
	SocialLink,
} from '@/components/global/Footer.astro'

export interface Props {
	/** Page title for <title> tag */
	title?: string
	/** Page description for meta description */
	description?: string
	/** Language of the page */
	lang?: string
	/** Custom navigation links */
	navLinks?: NavLink[]
	/** Custom footer sections */
	footerSections?: FooterSection[]
	/** Custom footer social links */
	footerSocialLinks?: SocialLink[]
	/** Whether to show footer newsletter form */
	showNewsletter?: boolean
}

const {
	title = 'NextNode',
	description = 'Modern, performant template built with Astro and NextNode',
	lang = 'en',
	navLinks,
	footerSections,
	footerSocialLinks,
	showNewsletter = true,
} = Astro.props

logger.info('Page loaded', {
	details: {
		title,
		pathname: Astro.url.pathname,
	},
})
---

<html
	lang={lang}
	class="selection:bg-nextnode-500 scroll-smooth selection:text-white"
>
	<head>
		<BaseHead />
		<title>{title}</title>
		<meta name="description" content={description} />
		<AosHead />
	</head>
	<body class="flex min-h-svh flex-col bg-[#f8fafc] text-slate-900">
		<GuidelinesGrid />
		<Navigation links={navLinks} />
		<main class="relative z-10 grow">
			<slot />
		</main>
		<Footer
			sections={footerSections}
			socialLinks={footerSocialLinks}
			showNewsletter={showNewsletter}
		/>
		<AosBody />
	</body>
</html>
